{"componentChunkName":"component---src-templates-post-js","path":"/lsm-trees/","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ad981f4093b95a9ccfb544c793c72ed5/33faa/lsm-tree.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVR42oVSiW6jMBTk/7+sWqVXwATC1QMlpC1ZjoCxsT19dlC2USotksXzk994ZjwefnxGa4zDCeM4gvMJI5cwxmCaqB4GTJxjGAXkrNx5u7dn7epPHEIoeFopnPqeADiapsVq9YR4s0GW5fjzEKFtOyRJgru7FYo8x/1ThKwoMc8SjEVYP/soshTrMMfhq4XHCd0B0FAcZ9gWB0g5020S25iG0xRpmiPclhBSYbfbYRtFyNMMQfSC6qNxbJU27u/9lEwKsfQxCANbkmLXPw+RTHk+IGZAqmWOzqqlvgK0PnQ9J88kjg2HJnQpBI7t6Bg3HXk52UmDYRjdfpoE6lY4r68AbcPKCxlD4Ad4ZgVdMOHt9QXBeg0WBCTxFZ91B0GPFAYhNiGD74dgcUkM1S1DpWbU9RfKsiQGA12iqafpsRq8v7+h7zu3d5LFhKqqsK/2xJJfMK4ArURrmlSGfFkGZ4rNUlsV48Vb47yzM1rr3wH/yQdOXLmDdvXj2TchNQbqU2Api7bWN7PeDZINLHn0+PBIPjGkFKeEIsJ8H1GUYJPsEecf8OMdDp/Nhfl/GJJsKSm8No/0yscaOYW6af5SX2EmS+zS2tww/AYBS06JL1ckqQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LSM tree\"\n        title=\"\"\n        src=\"/static/ad981f4093b95a9ccfb544c793c72ed5/39600/lsm-tree.png\"\n        srcset=\"/static/ad981f4093b95a9ccfb544c793c72ed5/1aaec/lsm-tree.png 175w,\n/static/ad981f4093b95a9ccfb544c793c72ed5/98287/lsm-tree.png 350w,\n/static/ad981f4093b95a9ccfb544c793c72ed5/39600/lsm-tree.png 700w,\n/static/ad981f4093b95a9ccfb544c793c72ed5/57cd1/lsm-tree.png 1050w,\n/static/ad981f4093b95a9ccfb544c793c72ed5/33faa/lsm-tree.png 1109w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>One of the most clever data structures in back end systems is the Log-structured merge-tree, or <strong>LSM tree.</strong></p>\n<p>Here's the problem: If your app's doing tons of writes, traditional B-trees can't keep up. They write all over the disk, causing random IO, and that's slow.</p>\n<p>LSM trees fix this by flipping the script, and here's how: writes go to an in memory structure called a \"memtable\" (often a sorted tree). It's fast, cheap, and it batches them.</p>\n<p>Once it fills up, it flushes to disk as a sorted file called a Sorted Strings Table (SSTable for short). Multiple levels of these files get merged in the background. That's the merge in LSM. So instead of random writes, it's sequential appends, which are much faster on SSDs.</p>\n<p>As for reads, they search across memory and disk levels, often with a Bloom Filter to skip irrelevant files. So if you're dealing with seriously write-heavy workloads (think logs, metrics, events), don't just scale hardware - use a data store that's built for that scale like Cassandra, RocksDB, or LevelDB.</p>\n<p><a href=\"https://www.linkedin.com/in/john-pratt787\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Follow</a> for more dev tips!</p>","frontmatter":{"title":"Log-structured Merge-trees","draft":false,"description":null,"date":"2025-06-09","slug":"/lsm-trees","tags":["computer-science","data-structures","databases"]}}},"pageContext":{"slug":"/lsm-trees"}},"staticQueryHashes":["1466254954","2744132034","2759103021","3539500889"],"slicesMap":{}}